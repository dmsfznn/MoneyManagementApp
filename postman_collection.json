{
  "info": {
    "name": "Money Management API",
    "description": "Complete API collection for Money Management App Flutter integration",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_postman_id": "money-management-api-v1"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8000/api",
      "type": "string",
      "description": "Base URL for the API"
    },
    {
      "key": "token",
      "value": "",
      "type": "string",
      "description": "Authentication token (will be set after login)"
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{token}}",
        "type": "string"
      }
    ]
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Auto-redirect to login if token is empty and request is not auth endpoint",
          "if (!pm.collectionVariables.get('token') && !pm.request.url.path.includes('/login') && !pm.request.url.path.includes('/register')) {",
          "    console.log('No token found, redirecting to login required');",
          "}"
        ]
      }
    }
  ],
  "item": [
    {
      "name": "Authentication",
      "description": "User registration and login endpoints",
      "item": [
        {
          "name": "Register User",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response has success field\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('success');",
                  "});",
                  "",
                  "pm.test(\"User registration successful\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"testuser@example.com\",\n  \"password\": \"password123\",\n  \"password_confirmation\": \"password123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/register",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "register"
              ]
            },
            "description": "Create a new user account"
          }
        },
        {
          "name": "Login User",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Login successful\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Token is returned\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data).to.have.property('token');",
                  "    ",
                  "    // Save token for subsequent requests",
                  "    if (jsonData.success && jsonData.data.token) {",
                  "        pm.collectionVariables.set('token', jsonData.data.token);",
                  "        console.log('Token saved:', jsonData.data.token);",
                  "    }",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"testuser@example.com\",\n  \"password\": \"password123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "login"
              ]
            },
            "description": "Authenticate user and receive access token"
          }
        },
        {
          "name": "Logout User",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Logout successful\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});",
                  "",
                  "// Clear token after logout",
                  "pm.collectionVariables.unset('token');"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/logout",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "logout"
              ]
            },
            "description": "Logout user and revoke token"
          }
        }
      ]
    },
    {
      "name": "User Profile",
      "description": "User profile management endpoints",
      "item": [
        {
          "name": "Get Current User",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"User data is returned\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "    pm.expect(jsonData.data).to.have.property('user');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/user",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "user"
              ]
            },
            "description": "Get authenticated user information"
          }
        },
        {
          "name": "Update Profile",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Profile updated successfully\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated User Name\",\n  \"email\": \"updateduser@example.com\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/user/profile",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "user",
                "profile"
              ]
            },
            "description": "Update user profile information"
          }
        },
        {
          "name": "Update Password",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Password updated successfully\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"current_password\": \"password123\",\n  \"password\": \"newpassword123\",\n  \"password_confirmation\": \"newpassword123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/user/password",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "user",
                "password"
              ]
            },
            "description": "Change user password"
          }
        }
      ]
    },
    {
      "name": "Dashboard",
      "description": "Dashboard and overview endpoints",
      "item": [
        {
          "name": "Get Dashboard Data",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Dashboard data is returned\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "    pm.expect(jsonData.data).to.have.property('monthly_income');",
                  "    pm.expect(jsonData.data).to.have.property('monthly_expense');",
                  "    pm.expect(jsonData.data).to.have.property('total_balance');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/dashboard",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "dashboard"
              ]
            },
            "description": "Get user's financial dashboard overview"
          }
        }
      ]
    },
    {
      "name": "Categories",
      "description": "Transaction categories endpoints",
      "item": [
        {
          "name": "Get Categories",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Categories data is returned\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "    pm.expect(jsonData.data).to.have.property('income_categories');",
                  "    pm.expect(jsonData.data).to.have.property('expense_categories');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/categories",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "categories"
              ]
            },
            "description": "Get all transaction categories"
          }
        }
      ]
    },
    {
      "name": "Income Management",
      "description": "Income CRUD operations",
      "item": [
        {
          "name": "Get Income List",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Income list is returned\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "    pm.expect(jsonData.data).to.have.property('income');",
                  "    pm.expect(Array.isArray(jsonData.data.income)).to.be.true;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/income?page=1&per_page=10",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "income"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "per_page",
                  "value": "10"
                }
              ]
            },
            "description": "Get user's income records with pagination"
          }
        },
        {
          "name": "Create Income",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Income created successfully\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "    pm.expect(jsonData.data).to.have.property('income');",
                  "});",
                  "",
                  "// Save income ID for subsequent tests",
                  "if (pm.response.code === 201) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('income_id', jsonData.data.income.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"category_id\": 1,\n  \"description\": \"Test Income\",\n  \"amount\": 5000000,\n  \"date\": \"2025-12-10\",\n  \"notes\": \"Test income from Postman\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/income",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "income"
              ]
            },
            "description": "Create a new income record"
          }
        },
        {
          "name": "Get Income Details",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Income details returned\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "    pm.expect(jsonData.data).to.have.property('income');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/income/{{income_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "income",
                "{{income_id}}"
              ]
            },
            "description": "Get specific income record details"
          }
        },
        {
          "name": "Update Income",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Income updated successfully\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"category_id\": 1,\n  \"description\": \"Updated Test Income\",\n  \"amount\": 6000000,\n  \"date\": \"2025-12-10\",\n  \"notes\": \"Updated test income\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/income/{{income_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "income",
                "{{income_id}}"
              ]
            },
            "description": "Update existing income record"
          }
        },
        {
          "name": "Delete Income",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Income deleted successfully\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/income/{{income_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "income",
                "{{income_id}}"
              ]
            },
            "description": "Delete income record"
          }
        }
      ]
    },
    {
      "name": "Expense Management",
      "description": "Expense CRUD operations",
      "item": [
        {
          "name": "Get Expenses List",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/expenses?page=1&per_page=10",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "expenses"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "per_page",
                  "value": "10"
                }
              ]
            },
            "description": "Get user's expense records with pagination"
          }
        },
        {
          "name": "Create Expense",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Save expense ID for subsequent tests",
                  "if (pm.response.code === 201) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('expense_id', jsonData.data.expense.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"category_id\": 3,\n  \"description\": \"Lunch\",\n  \"amount\": 50000,\n  \"date\": \"2025-12-10\",\n  \"notes\": \"Lunch at restaurant\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/expenses",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "expenses"
              ]
            },
            "description": "Create a new expense record"
          }
        },
        {
          "name": "Get Expense Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/expenses/{{expense_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "expenses",
                "{{expense_id}}"
              ]
            },
            "description": "Get specific expense record details"
          }
        },
        {
          "name": "Update Expense",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"category_id\": 3,\n  \"description\": \"Updated Lunch\",\n  \"amount\": 60000,\n  \"date\": \"2025-12-10\",\n  \"notes\": \"Updated lunch expense\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/expenses/{{expense_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "expenses",
                "{{expense_id}}"
              ]
            },
            "description": "Update existing expense record"
          }
        },
        {
          "name": "Delete Expense",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/expenses/{{expense_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "expenses",
                "{{expense_id}}"
              ]
            },
            "description": "Delete expense record"
          }
        }
      ]
    },
    {
      "name": "Budget Management",
      "description": "Budget CRUD operations",
      "item": [
        {
          "name": "Get Budgets List",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/budgets?page=1&per_page=10",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "budgets"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "per_page",
                  "value": "10"
                }
              ]
            },
            "description": "Get user's budget records with pagination"
          }
        },
        {
          "name": "Create Budget",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Save budget ID for subsequent tests",
                  "if (pm.response.code === 201) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('budget_id', jsonData.data.budget.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"category_id\": 3,\n  \"name\": \"Monthly Food Budget\",\n  \"amount\": 2000000,\n  \"period\": \"monthly\",\n  \"month_year\": \"2025-12\",\n  \"notes\": \"Monthly budget for food expenses\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/budgets",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "budgets"
              ]
            },
            "description": "Create a new budget record"
          }
        },
        {
          "name": "Get Budget Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/budgets/{{budget_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "budgets",
                "{{budget_id}}"
              ]
            },
            "description": "Get specific budget record details"
          }
        },
        {
          "name": "Update Budget",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Monthly Food Budget\",\n  \"amount\": 2500000,\n  \"period\": \"monthly\",\n  \"month_year\": \"2025-12\",\n  \"is_active\": true,\n  \"notes\": \"Updated monthly food budget\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/budgets/{{budget_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "budgets",
                "{{budget_id}}"
              ]
            },
            "description": "Update existing budget record"
          }
        },
        {
          "name": "Toggle Budget Status",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/budgets/{{budget_id}}/toggle",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "budgets",
                "{{budget_id}}",
                "toggle"
              ]
            },
            "description": "Activate or deactivate budget"
          }
        },
        {
          "name": "Delete Budget",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/budgets/{{budget_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "budgets",
                "{{budget_id}}"
              ]
            },
            "description": "Delete budget record"
          }
        }
      ]
    },
    {
      "name": "Reports",
      "description": "Financial reports and analytics",
      "item": [
        {
          "name": "Get Financial Reports",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/reports?type=monthly",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "reports"
              ],
              "query": [
                {
                  "key": "type",
                  "value": "monthly"
                }
              ]
            },
            "description": "Get financial reports and analytics"
          }
        }
      ]
    }
  ]
}